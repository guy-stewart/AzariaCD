<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 10.0.1 (20240210.2158)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="1353pt" height="892pt"
 viewBox="0.00 0.00 1352.62 892.25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 888.25)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-888.25 1348.62,-888.25 1348.62,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="286.62,-817.5 286.62,-871 506.62,-871 506.62,-817.5 286.62,-817.5"/>
<polygon fill="none" stroke="black" points="297.62,-845.25 297.62,-864 495.62,-864 495.62,-845.25 297.62,-845.25"/>
<text text-anchor="start" x="300.62" y="-852.5" font-family="Courier New" font-weight="bold" font-size="10.00">S19_SPELLCASTER::M19_SPELLCASTER</text>
<polygon fill="none" stroke="black" points="297.62,-824.5 297.62,-843.25 495.62,-843.25 495.62,-824.5 297.62,-824.5"/>
<text text-anchor="start" x="351.62" y="-830.75" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="294.62,-821.5 294.62,-867 498.62,-867 498.62,-821.5 294.62,-821.5"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" stroke-width="3" points="544,-832.5 559.25,-832.5"/>
<text text-anchor="start" x="547.5" y="-840.2" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<path fill="none" stroke="darkred" stroke-width="3" d="M547.42,-827.5C547.42,-827.5 555.83,-827.5 555.83,-827.5 560.04,-827.5 564.25,-831.71 564.25,-835.92 564.25,-835.92 564.25,-852.58 564.25,-852.58 564.25,-856.79 560.04,-861 555.83,-861 555.83,-861 547.42,-861 547.42,-861 543.21,-861 539,-856.79 539,-852.58 539,-852.58 539,-835.92 539,-835.92 539,-831.71 543.21,-827.5 547.42,-827.5"/>
</g>
<!-- collectingColor -->
<g id="node3" class="node">
<title>collectingColor</title>
<polyline fill="none" stroke="darkred" points="219.75,-718 349.5,-718"/>
<text text-anchor="start" x="222.75" y="-725.2" font-family="Courier New" font-weight="bold" font-size="14.00">collectingColor</text>
<path fill="none" stroke="darkred" d="M226.25,-715C226.25,-715 343,-715 343,-715 347.75,-715 352.5,-719.75 352.5,-724.5 352.5,-724.5 352.5,-734 352.5,-734 352.5,-738.75 347.75,-743.5 343,-743.5 343,-743.5 226.25,-743.5 226.25,-743.5 221.5,-743.5 216.75,-738.75 216.75,-734 216.75,-734 216.75,-724.5 216.75,-724.5 216.75,-719.75 221.5,-715 226.25,-715"/>
</g>
<!-- 0&#45;&gt;collectingColor -->
<g id="edge1" class="edge">
<title>0&#45;&gt;collectingColor</title>
<path fill="none" stroke="black" d="M535.76,-822.16C530.01,-815.68 523.08,-809.01 515.62,-804.25 471.92,-776.38 416.83,-758.2 371.42,-746.84"/>
<polygon fill="black" stroke="black" points="372.4,-743.48 361.86,-744.52 370.75,-750.28 372.4,-743.48"/>
<text text-anchor="start" x="485.62" y="-773.75" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(0,SIG_START)</text>
</g>
<!-- collectingEvent -->
<g id="node5" class="node">
<title>collectingEvent</title>
<polyline fill="none" stroke="darkred" points="110.75,-549 240.5,-549"/>
<text text-anchor="start" x="113.75" y="-556.2" font-family="Courier New" font-weight="bold" font-size="14.00">collectingEvent</text>
<path fill="none" stroke="darkred" d="M117.25,-546C117.25,-546 234,-546 234,-546 238.75,-546 243.5,-550.75 243.5,-555.5 243.5,-555.5 243.5,-565 243.5,-565 243.5,-569.75 238.75,-574.5 234,-574.5 234,-574.5 117.25,-574.5 117.25,-574.5 112.5,-574.5 107.75,-569.75 107.75,-565 107.75,-565 107.75,-555.5 107.75,-555.5 107.75,-550.75 112.5,-546 117.25,-546"/>
</g>
<!-- collectingColor&#45;&gt;collectingEvent -->
<g id="edge3" class="edge">
<title>collectingColor&#45;&gt;collectingEvent</title>
<path fill="none" stroke="black" d="M226.35,-711.11C217.75,-706.42 209.74,-700.48 203.62,-693 179.68,-663.68 174.82,-618.76 174.49,-589.7"/>
<polygon fill="black" stroke="black" points="177.99,-589.84 174.56,-579.81 170.99,-589.78 177.99,-589.84"/>
<polygon fill="none" stroke="black" points="206.62,-671.25 206.62,-690 638.62,-690 638.62,-671.25 206.62,-671.25"/>
<text text-anchor="start" x="368.62" y="-678.5" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">REF_MACHINE(WIP1,)</text>
<polygon fill="none" stroke="black" points="206.62,-599.5 206.62,-669.25 638.62,-669.25 638.62,-599.5 206.62,-599.5"/>
<text text-anchor="start" x="209.62" y="-656.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//Top spinner frame</text>
<text text-anchor="start" x="209.62" y="-644" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;// WTEMP1=R_WPARM;</text>
<text text-anchor="start" x="209.62" y="-631.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MOV(WPARM,R_WPARM);</text>
<text text-anchor="start" x="209.62" y="-618.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//WPARM wil be color to attack violet,GREEN_SQUARE, or brown square</text>
<text text-anchor="start" x="209.62" y="-605.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MAPi(WPARM,WIP3); </text>
<polygon fill="none" stroke="black" points="203.62,-596.5 203.62,-693 641.62,-693 641.62,-596.5 203.62,-596.5"/>
</g>
<!-- castspell -->
<g id="node4" class="node">
<title>castspell</title>
<polyline fill="none" stroke="darkred" points="316.5,-7 396.75,-7"/>
<text text-anchor="start" x="319.5" y="-14.2" font-family="Courier New" font-weight="bold" font-size="14.00">castspell</text>
<path fill="none" stroke="darkred" d="M323,-4C323,-4 390.25,-4 390.25,-4 395,-4 399.75,-8.75 399.75,-13.5 399.75,-13.5 399.75,-23 399.75,-23 399.75,-27.75 395,-32.5 390.25,-32.5 390.25,-32.5 323,-32.5 323,-32.5 318.25,-32.5 313.5,-27.75 313.5,-23 313.5,-23 313.5,-13.5 313.5,-13.5 313.5,-8.75 318.25,-4 323,-4"/>
</g>
<!-- castspell&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>castspell&#45;&gt;0</title>
<path fill="none" stroke="black" d="M407.57,-22.03C485.27,-26.77 626.06,-37.61 641.62,-54.5 742.85,-164.32 655.62,-240.9 655.62,-390.25 655.62,-730.25 655.62,-730.25 655.62,-730.25 655.62,-730.43 609.47,-780.52 578.65,-813.94"/>
<polygon fill="black" stroke="black" points="576.42,-811.2 572.21,-820.93 581.56,-815.95 576.42,-811.2"/>
<text text-anchor="start" x="659.62" y="-558.12" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">Z_EPSILON(0,)</text>
</g>
<!-- findVictimOne -->
<g id="node6" class="node">
<title>findVictimOne</title>
<polyline fill="none" stroke="darkred" points="11,-380 124.25,-380"/>
<text text-anchor="start" x="14" y="-387.2" font-family="Courier New" font-weight="bold" font-size="14.00">findVictimOne</text>
<path fill="none" stroke="darkred" d="M17.5,-377C17.5,-377 117.75,-377 117.75,-377 122.5,-377 127.25,-381.75 127.25,-386.5 127.25,-386.5 127.25,-396 127.25,-396 127.25,-400.75 122.5,-405.5 117.75,-405.5 117.75,-405.5 17.5,-405.5 17.5,-405.5 12.75,-405.5 8,-400.75 8,-396 8,-396 8,-386.5 8,-386.5 8,-381.75 12.75,-377 17.5,-377"/>
</g>
<!-- collectingEvent&#45;&gt;findVictimOne -->
<g id="edge4" class="edge">
<title>collectingEvent&#45;&gt;findVictimOne</title>
<path fill="none" stroke="black" d="M164.47,-542.01C145.54,-512.73 106.99,-453.12 84.66,-418.59"/>
<polygon fill="black" stroke="black" points="87.75,-416.92 79.38,-410.42 81.87,-420.72 87.75,-416.92"/>
<polygon fill="none" stroke="black" points="155.62,-502.25 155.62,-521 521.62,-521 521.62,-502.25 155.62,-502.25"/>
<text text-anchor="start" x="284.62" y="-509.5" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">REF_MACHINE(WIP2,)</text>
<polygon fill="none" stroke="black" points="155.62,-430.5 155.62,-500.25 521.62,-500.25 521.62,-430.5 155.62,-430.5"/>
<text text-anchor="start" x="158.62" y="-487.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//Bottom spinner frame</text>
<text text-anchor="start" x="158.62" y="-475" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;WTEMP2=R_WPARM;</text>
<text text-anchor="start" x="158.62" y="-462.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MOV(BPARM,WTEMP2);</text>
<text text-anchor="start" x="158.62" y="-449.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//BPARM will be spell</text>
<text text-anchor="start" x="158.62" y="-436.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MAPi(BPARM,WIP4); //BPARM will be IDD_GVIAL,IDD_BOMB2...</text>
<polygon fill="none" stroke="black" points="152.62,-427.5 152.62,-524 524.62,-524 524.62,-427.5 152.62,-427.5"/>
</g>
<!-- findVictimOne&#45;&gt;castspell -->
<g id="edge5" class="edge">
<title>findVictimOne&#45;&gt;castspell</title>
<path fill="none" stroke="black" d="M60.2,-373.26C37.74,-318.93 -23.05,-147.57 59.62,-54.5 74.94,-37.26 212.01,-26.97 294.49,-22.29"/>
<polygon fill="black" stroke="black" points="294.45,-25.8 304.24,-21.75 294.06,-18.81 294.45,-25.8"/>
<polygon fill="none" stroke="black" points="62.62,-333.25 62.62,-352 638.62,-352 638.62,-333.25 62.62,-333.25"/>
<text text-anchor="start" x="254.62" y="-340.5" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">REF_MACHINE(0,S19_PLAYERWATCHER)</text>
<polygon fill="none" stroke="black" points="62.62,-57.5 62.62,-331.25 638.62,-331.25 638.62,-57.5 62.62,-57.5"/>
<text text-anchor="start" x="65.62" y="-318.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//R_WPARM is the squre last signaled by local landing,</text>
<text text-anchor="start" x="65.62" y="-306" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//R_BPARM is either player token: IDD_PLAYER_B or W in that square</text>
<text text-anchor="start" x="65.62" y="-293.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MOV(WTEMP2,R_BPARM);</text>
<text text-anchor="start" x="65.62" y="-280.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//map the square theyre on to a color , then if it matches WPARM execute the event in BPARM</text>
<text text-anchor="start" x="65.62" y="-267.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//WTEMP1 is now something like VIOLET_SQUARE, BLANK...</text>
<text text-anchor="start" x="65.62" y="-255" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MOV(WTEMP1,R_WPARM);</text>
<text text-anchor="start" x="65.62" y="-242.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;MAPi(WTEMP1,S19_SQUARE_MAP);</text>
<text text-anchor="start" x="65.62" y="-229.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;//We assess for the local player</text>
<text text-anchor="start" x="65.62" y="-216.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;predicate active_character(name);</text>
<text text-anchor="start" x="65.62" y="-204" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;active_character(?myname)?</text>
<text text-anchor="start" x="65.62" y="-191.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;predicate compete(name,token,address,partner,square);</text>
<text text-anchor="start" x="65.62" y="-178.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;compete(myname,?token,,,);</text>
<text text-anchor="start" x="65.62" y="-165.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if(token == WTEMP2){</text>
<text text-anchor="start" x="65.62" y="-153" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WTEMP1 == WPARM){</text>
<text text-anchor="start" x="65.62" y="-140.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;//if the last triggered square has the color to attack</text>
<text text-anchor="start" x="65.62" y="-127.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;predicate dropitem(object,id);</text>
<text text-anchor="start" x="65.62" y="-114.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dropitem(&quot;%&quot;)~</text>
<text text-anchor="start" x="65.62" y="-102" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dropitem(BPARM,&quot;id&quot;).</text>
<text text-anchor="start" x="65.62" y="-89.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replay(&quot;system/send_item_self&quot;);</text>
<text text-anchor="start" x="65.62" y="-76.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="65.62" y="-63.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<polygon fill="none" stroke="black" points="59.62,-54.5 59.62,-355 641.62,-355 641.62,-54.5 59.62,-54.5"/>
</g>
<!-- status -->
<g id="node7" class="node">
<title>status</title>
<polygon fill="none" stroke="black" points="596.62,-804.75 596.62,-883.75 1344.62,-883.75 1344.62,-804.75 596.62,-804.75"/>
<polygon fill="none" stroke="black" points="607.62,-858 607.62,-876.75 1333.62,-876.75 1333.62,-858 607.62,-858"/>
<text text-anchor="start" x="925.62" y="-865.25" font-family="Courier New" font-weight="bold" font-size="10.00">S19_SPELLCASTER</text>
<polygon fill="none" stroke="black" points="607.62,-811.75 607.62,-856 1333.62,-856 1333.62,-811.75 607.62,-811.75"/>
<text text-anchor="start" x="610.62" y="-843.5" font-family="Courier New" font-size="10.00" fill="green">VIEW::IDV_RACEPAN @pos(x:8, y:150, w:50, h:12)</text>
<text text-anchor="start" x="610.62" y="-830.75" font-family="Courier New" font-size="10.00" fill="green">S19_SPELLCASTER::M19_SPELLCASTER(&#39;S19_SPINNER_TOP_PICK&#39;,&#39;S19_SPINNER_BOTTOM_PICK&#39;,&#39;S19_COLOR_MAP&#39;,&#39;S19_EVENT_MAP&#39;,&#39;&#39;,&#39;&#39;)</text>
<text text-anchor="start" x="610.62" y="-818" font-family="Courier New" font-size="10.00" fill="green">{state:&#39;0&#39;: bParm:IDD_GVIAL wParm:GREEN_SQUARE Top:150 Left:8</text>
<polygon fill="none" stroke="black" points="604.62,-808.75 604.62,-879.75 1336.62,-879.75 1336.62,-808.75 604.62,-808.75"/>
</g>
</g>
</svg>
