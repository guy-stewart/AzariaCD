digraph Automaton {
 fontname="Courier New"
	node [shape=oval, fontname="Courier New"];
	filename[shape = record, fontsize=10, label=< <table border="1"><tr><td><b>S16_PERST::M_MEF_APPROACH<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="brown">start state = 0<br align="left"/></font></td></tr></table>>
];
	0[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>0<br align="left"/></b></td></tr>
</table>>];
"0" -> "chillin" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(,SIG_SHOW)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    MOV(WSPRITE,WIP1);<br align="left"/>    ASHOW(WSPRITE,V_LOOP);<br align="left"/></font></td></tr></table>>
];
	chillin[shape = none, fontsize=14, label=< <table border="3" color="darkred" style="rounded"><tr><td sides="b"><b>chillin<br align="left"/></b></td></tr>
</table>>];
"chillin" -> "mef_bothered" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>CLICK(0,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">unloadview(IDV_OTHERID);CLEAR(WPARM);CLEAR(WSPRITE);CLEAR(BPARM);SIGNAL(SOD_ID,SIG_CLEAR);LOADVIEW(IDV_MEFID);<br align="left"/></font></td></tr></table>>
];
"chillin" -> "vanished" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(,SIG_VANISH)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    CLEAR(WSPRITE);<br align="left"/>    SHOW(0);<br align="left"/></font></td></tr></table>>
];
	mef_bothered[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>mef_bothered<br align="left"/></b></td></tr>
</table>>];
"mef_bothered" -> "mef_response" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>REF_MACHINE(0,WIP3)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    if(IFSTATE(0,WIP3))&#123;<br align="left"/>        //Tell the active meflins coordinator<br align="left"/>        SIGNAL(WIP3,SIG_Q1_START); ///--------------The first question and pending interogatve to any Meflin<br align="left"/>            //Tell the outside world where we a<br align="left"/>            //WTEMP1 will be machine, WTemp2 is wordin<br align="left"/>            if(WIP2 == 1)&#123;SIGNAL(MEFCURRENT,SIG_Q1); mefQuest(&quot;1&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>            if(WIP2 == 2)&#123;SIGNAL(MEFCURRENT,SIG_Q4); mefQuest(&quot;4&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>            if(WIP2 == 3)&#123;SIGNAL(MEFCURRENT,SIG_Q6); mefQuest(&quot;6&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>            if(WIP2 == 4)&#123;SIGNAL(MEFCURRENT,SIG_Q8); mefQuest(&quot;8&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>            if(WIP2 == 5)&#123;SIGNAL(MEFCURRENT,SIG_Q10); mefQuest(&quot;10&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>    &#125;<br align="left"/>    if(IFSTATE(Q1Pending,WIP3))&#123;<br align="left"/>            if(WIP2 == 1)&#123;SIGNAL(MEFCURRENT,SIG_Q1P); mefQuest(&quot;1&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>            if(WIP2 == 2)&#123;SIGNAL(MEFCURRENT,SIG_Q4P); mefQuest(&quot;4&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>            if(WIP2 == 3)&#123;SIGNAL(MEFCURRENT,SIG_Q6P); mefQuest(&quot;6&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>            if(WIP2 == 4)&#123;SIGNAL(MEFCURRENT,SIG_Q8P); mefQuest(&quot;8&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>            if(WIP2 == 5)&#123;SIGNAL(MEFCURRENT,SIG_Q10P); mefQuest(&quot;10&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>    &#125;<br align="left"/>    if(IFSTATE(Q1Solved,WIP3))&#123;<br align="left"/>        SIGNAL(WIP3,SIG_Q2_START); ///--------------The second question and pending interogative to any Meflin<br align="left"/>        if(WIP2 == 1)&#123;SIGNAL(MEFCURRENT,SIG_Q2); mefQuest(&quot;2&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>        if(WIP2 == 2)&#123;SIGNAL(MEFCURRENT,SIG_Q5); mefQuest(&quot;5&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>        if(WIP2 == 3)&#123;SIGNAL(MEFCURRENT,SIG_Q7); mefQuest(&quot;7&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>        if(WIP2 == 4)&#123;SIGNAL(MEFCURRENT,SIG_Q9); mefQuest(&quot;9&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;       <br align="left"/>    &#125;<br align="left"/>    if(IFSTATE(Q2Pending,WIP3))&#123;<br align="left"/>        if(WIP2 == 1)&#123;SIGNAL(MEFCURRENT,SIG_Q2P); mefQuest(&quot;2&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>        if(WIP2 == 2)&#123;SIGNAL(MEFCURRENT,SIG_Q5P); mefQuest(&quot;5&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>        if(WIP2 == 3)&#123;SIGNAL(MEFCURRENT,SIG_Q7P); mefQuest(&quot;7&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>        if(WIP2 == 4)&#123;SIGNAL(MEFCURRENT,SIG_Q9P); mefQuest(&quot;9&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>    &#125;<br align="left"/>    if(IFSTATE(Q2Solved,WIP3))&#123;<br align="left"/>        SIGNAL(WIP3,SIG_Q3_START);  <br align="left"/>         if(WIP2 == 1)&#123;SIGNAL(MEFCURRENT,SIG_Q3); mefQuest(&quot;3&quot;,?BPARM,?WPARM,?WOBJECT,?WTEMP1,?WTEMP1);&#125;<br align="left"/>    &#125;<br align="left"/>    if(IFSTATE(Q3Pending,WIP3))&#123;<br align="left"/>         WRITE(&quot;Q3Pending State found&quot;);<br align="left"/>         if(WIP2 == 1)&#123;SIGNAL(MEFCURRENT,SIG_Q3P); mefQuest(&quot;3&quot;,?WTEMP1,?WTEMP1,?WOBJECT,?BPARM,?WPARM);&#125;<br align="left"/>    &#125;<br align="left"/></font></td></tr></table>>
];
	mef_response[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>mef_response<br align="left"/></b></td></tr>
</table>>];
"mef_response" -> "chillin" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>Z_EPSILON(,)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    <br align="left"/>    //Advance the individual meflin state WIP3 to pending states and play the machines<br align="left"/>   //--Q3<br align="left"/>    if(IFSTATE(Q3Pending,WIP3))&#123; SIGNAL(MEFPAN_VIEWCAP,SIG_VIEWCAP);LOADVIEW(IDV_MEFPAN);SIGNAL(MEFPAN_WAITER,SIG_Q3P); SIGNAL(BPARM,SIG_PLAY);&#125;<br align="left"/>    if(IFSTATE(Q3Started,WIP3))&#123;  SIGNAL(MEFPAN_VIEWCAP,SIG_VIEWCAP);LOADVIEW(IDV_MEFPAN);SIGNAL(MEFPAN_WAITER,SIG_Q3S); SIGNAL(BPARM,SIG_PLAY); SIGNAL(WIP3,SIG_Q3_GIVEN);&#125;<br align="left"/>    //--Q2<br align="left"/>    if(IFSTATE(Q2Pending,WIP3))&#123; SIGNAL(MEFPAN_VIEWCAP,SIG_VIEWCAP);LOADVIEW(IDV_MEFPAN);SIGNAL(MEFPAN_WAITER,SIG_Q2P); SIGNAL(BPARM,SIG_PLAY);&#125;<br align="left"/>    if(IFSTATE(Q2Started,WIP3))&#123; SIGNAL(MEFPAN_VIEWCAP,SIG_VIEWCAP);LOADVIEW(IDV_MEFPAN);SIGNAL(MEFPAN_WAITER,SIG_Q2S); SIGNAL(BPARM,SIG_PLAY); SIGNAL(WIP3,SIG_Q2_GIVEN);&#125;<br align="left"/>   <br align="left"/>   // --Q1                                                                                                              PLAY THE RIGHT MACHINE , SET CALLING MEFLIN COORDINATOR<br align="left"/>    if(IFSTATE(Q1Pending,WIP3))&#123; SIGNAL(MEFPAN_VIEWCAP,SIG_VIEWCAP);LOADVIEW(IDV_MEFPAN);SIGNAL(MEFPAN_WAITER,SIG_Q1P); SIGNAL(BPARM,SIG_PLAY);&#125;<br align="left"/>    if(IFSTATE(Q1Started,WIP3))&#123; SIGNAL(MEFPAN_VIEWCAP,SIG_VIEWCAP);LOADVIEW(IDV_MEFPAN);SIGNAL(MEFPAN_WAITER,SIG_Q1S); SIGNAL(BPARM,SIG_PLAY); SIGNAL(WIP3,SIG_Q1_GIVEN);&#125;<br align="left"/>   <br align="left"/></font></td></tr></table>>
];
	status[shape = record, fontsize=10, label=< <table border="1"><tr><td><b>S16_PERST<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="green">VIEW::IDV_VIL7 @pos(x:2650, y:40, h:148, w:210)<br align="left"/>S16_PERST::M_MEF_APPROACH(&apos;IDS_M2FIDDLE&apos;,&apos;4&apos;,&apos;PERST_COORD&apos;,&apos;&apos;,&apos;&apos;,&apos;&apos;)<br align="left"/>			&#123;state:&apos;chillin&apos;: bParm:S16_PERST_Q1 wParm:    Perst welcomes you with a quest.<br align="left"/>    An enchanted stone rests somewhere<br align="left"/>    on Azaria.  You must obtain the stone<br align="left"/>    and return it to Perst.<br align="left"/>	<br align="left"/>	Perst thinks this might help: wObject:IDD_PICK Top:40 Left:2650 Z:0<br align="left"/></font></td></tr></table>>
];
}
