<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 10.0.1 (20240210.2158)
 -->
<!-- Title: Automaton Pages: 1 -->
<svg width="1372pt" height="863pt"
 viewBox="0.00 0.00 1371.74 862.75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 858.75)">
<title>Automaton</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-858.75 1367.74,-858.75 1367.74,4 -4,4"/>
<!-- filename -->
<g id="node1" class="node">
<title>filename</title>
<polygon fill="none" stroke="black" points="563.74,-788 563.74,-841.5 753.74,-841.5 753.74,-788 563.74,-788"/>
<polygon fill="none" stroke="black" points="574.74,-815.75 574.74,-834.5 742.74,-834.5 742.74,-815.75 574.74,-815.75"/>
<text text-anchor="start" x="577.74" y="-823" font-family="Courier New" font-weight="bold" font-size="10.00">ENCHANT_ACTIVE::M_VIEWSPELL</text>
<polygon fill="none" stroke="black" points="574.74,-795 574.74,-813.75 742.74,-813.75 742.74,-795 574.74,-795"/>
<text text-anchor="start" x="613.74" y="-801.25" font-family="Courier New" font-size="10.00" fill="brown">start state = 0</text>
<polygon fill="none" stroke="black" points="571.74,-792 571.74,-837.5 745.74,-837.5 745.74,-792 571.74,-792"/>
</g>
<!-- 0 -->
<g id="node2" class="node">
<title>0</title>
<polyline fill="none" stroke="darkred" stroke-width="3" points="791.12,-803 806.37,-803"/>
<text text-anchor="start" x="794.62" y="-810.7" font-family="Courier New" font-weight="bold" font-size="14.00">0</text>
<path fill="none" stroke="darkred" stroke-width="3" d="M794.53,-798C794.53,-798 802.95,-798 802.95,-798 807.16,-798 811.37,-802.21 811.37,-806.42 811.37,-806.42 811.37,-823.08 811.37,-823.08 811.37,-827.29 807.16,-831.5 802.95,-831.5 802.95,-831.5 794.53,-831.5 794.53,-831.5 790.32,-831.5 786.12,-827.29 786.12,-823.08 786.12,-823.08 786.12,-806.42 786.12,-806.42 786.12,-802.21 790.32,-798 794.53,-798"/>
</g>
<!-- turntOn -->
<g id="node3" class="node">
<title>turntOn</title>
<polyline fill="none" stroke="darkred" points="582.87,-600 646.62,-600"/>
<text text-anchor="start" x="585.87" y="-607.2" font-family="Courier New" font-weight="bold" font-size="14.00">turntOn</text>
<path fill="none" stroke="darkred" d="M589.37,-597C589.37,-597 640.12,-597 640.12,-597 644.87,-597 649.62,-601.75 649.62,-606.5 649.62,-606.5 649.62,-616 649.62,-616 649.62,-620.75 644.87,-625.5 640.12,-625.5 640.12,-625.5 589.37,-625.5 589.37,-625.5 584.62,-625.5 579.87,-620.75 579.87,-616 579.87,-616 579.87,-606.5 579.87,-606.5 579.87,-601.75 584.62,-597 589.37,-597"/>
</g>
<!-- 0&#45;&gt;turntOn -->
<g id="edge1" class="edge">
<title>0&#45;&gt;turntOn</title>
<path fill="none" stroke="black" d="M784.03,-792.7C778.19,-785.9 770.91,-779.01 762.74,-774.75 710.64,-747.56 672.89,-798.71 631.74,-756.75 601.81,-726.23 604.02,-672.92 608.96,-640.29"/>
<polygon fill="black" stroke="black" points="612.35,-641.22 610.59,-630.77 605.45,-640.03 612.35,-641.22"/>
<polygon fill="none" stroke="black" points="634.74,-735 634.74,-753.75 958.74,-753.75 958.74,-735 634.74,-735"/>
<text text-anchor="start" x="739.74" y="-742.25" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(0,SIG_SPELLME)</text>
<polygon fill="none" stroke="black" points="634.74,-650.5 634.74,-733 958.74,-733 958.74,-650.5 634.74,-650.5"/>
<text text-anchor="start" x="637.74" y="-720.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;//start the timer</text>
<text text-anchor="start" x="637.74" y="-707.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;WRITE(&quot;A VIEW SPELL ACTIVATED&quot;);</text>
<text text-anchor="start" x="637.74" y="-695" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;SIGNAL(WIP2,SIG_START);</text>
<text text-anchor="start" x="637.74" y="-682.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;MOV(WPARM,LVIEW); //THE VIEW OF THE VICTIM</text>
<text text-anchor="start" x="637.74" y="-669.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;MOV(BPARM,OVIEW); //THE VIEW OF THE SPELL CASTER</text>
<text text-anchor="start" x="637.74" y="-656.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;SHOW(WIP3);</text>
<polygon fill="none" stroke="black" points="631.74,-647.5 631.74,-756.75 961.74,-756.75 961.74,-647.5 631.74,-647.5"/>
</g>
<!-- caughtInLoop -->
<g id="node4" class="node">
<title>caughtInLoop</title>
<polyline fill="none" stroke="darkred" points="562.24,-137.75 667.24,-137.75"/>
<text text-anchor="start" x="565.24" y="-144.95" font-family="Courier New" font-weight="bold" font-size="14.00">caughtInLoop</text>
<path fill="none" stroke="darkred" d="M568.74,-134.75C568.74,-134.75 660.74,-134.75 660.74,-134.75 665.49,-134.75 670.24,-139.5 670.24,-144.25 670.24,-144.25 670.24,-153.75 670.24,-153.75 670.24,-158.5 665.49,-163.25 660.74,-163.25 660.74,-163.25 568.74,-163.25 568.74,-163.25 563.99,-163.25 559.24,-158.5 559.24,-153.75 559.24,-153.75 559.24,-144.25 559.24,-144.25 559.24,-139.5 563.99,-134.75 568.74,-134.75"/>
</g>
<!-- turntOn&#45;&gt;caughtInLoop -->
<g id="edge5" class="edge">
<title>turntOn&#45;&gt;caughtInLoop</title>
<path fill="none" stroke="black" d="M572.22,-610.65C452.9,-611.33 121.48,-610.01 88.74,-575 -29.58,-448.48 -29.58,-311.77 88.74,-185.25 118.88,-153.03 402.05,-149.35 539.97,-149.49"/>
<polygon fill="black" stroke="black" points="539.72,-152.99 549.73,-149.51 539.74,-145.99 539.72,-152.99"/>
<polygon fill="none" stroke="black" points="91.74,-553.25 91.74,-572 607.74,-572 607.74,-553.25 91.74,-553.25"/>
<text text-anchor="start" x="313.74" y="-560.5" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">Z_EPSILON(,)</text>
<polygon fill="none" stroke="black" points="91.74,-188.25 91.74,-551.25 607.74,-551.25 607.74,-188.25 91.74,-188.25"/>
<text text-anchor="start" x="94.74" y="-538.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="94.74" y="-526" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;// change localplayers view to otherplayer</text>
<text text-anchor="start" x="94.74" y="-513.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WIP1==ENCHANT){</text>
<text text-anchor="start" x="94.74" y="-500.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;predicate spellinfo(status,caster,object,caster_view);</text>
<text text-anchor="start" x="94.74" y="-487.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spellinfo(&quot;ACTIVE&quot;,?caster,,view); </text>
<text text-anchor="start" x="94.74" y="-475" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOADVIEW(view);</text>
<text text-anchor="start" x="94.74" y="-462.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="94.74" y="-449.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WIP1==POSTENCHANT){</text>
<text text-anchor="start" x="94.74" y="-436.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;predicate spellinfo(status,caster,victim,object,caster_view,victim_view);</text>
<text text-anchor="start" x="94.74" y="-424" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spellinfo(?status,?caster,?victim,?object,,)?</text>
<text text-anchor="start" x="94.74" y="-411.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spellinfo(&quot;%&quot;)~</text>
<text text-anchor="start" x="94.74" y="-398.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spellinfo(status,caster,victim,object,LVIEW,).</text>
<text text-anchor="start" x="94.74" y="-385.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;replay(system/send_view);</text>
<text text-anchor="start" x="94.74" y="-373" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="94.74" y="-360.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WIP1==HOLDING){ </text>
<text text-anchor="start" x="94.74" y="-347.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOADVIEW(WPARM);</text>
<text text-anchor="start" x="94.74" y="-334.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="94.74" y="-322" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WIP1==STALKING){</text>
<text text-anchor="start" x="94.74" y="-309.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOADVIEW(WPARM);</text>
<text text-anchor="start" x="94.74" y="-296.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="94.74" y="-283.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WIP1==BLINDNESS){</text>
<text text-anchor="start" x="94.74" y="-271" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;MOV(WPARM,IDV_BLINDVIEW);</text>
<text text-anchor="start" x="94.74" y="-258.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOADVIEW(WPARM);</text>
<text text-anchor="start" x="94.74" y="-245.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<text text-anchor="start" x="94.74" y="-232.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if(WIP1==HALLUCINATE){ </text>
<text text-anchor="start" x="94.74" y="-220" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;MOV(WPARM,IDV_VIL_HAL);</text>
<text text-anchor="start" x="94.74" y="-207.25" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;LOADVIEW(WPARM);</text>
<text text-anchor="start" x="94.74" y="-194.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;}</text>
<polygon fill="none" stroke="black" points="88.74,-185.25 88.74,-575 610.74,-575 610.74,-185.25 88.74,-185.25"/>
</g>
<!-- caughtInLoop&#45;&gt;turntOn -->
<g id="edge2" class="edge">
<title>caughtInLoop&#45;&gt;turntOn</title>
<path fill="none" stroke="black" d="M614.74,-167.04C614.74,-236.04 614.74,-495.07 614.74,-581.77"/>
<polygon fill="black" stroke="black" points="611.24,-581.53 614.74,-591.53 618.24,-581.53 611.24,-581.53"/>
<text text-anchor="start" x="753.74" y="-400.12" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">ESTIME(1,)</text>
<text text-anchor="start" x="618.74" y="-380.38" font-family="Courier New" font-size="10.00" fill="green"> &#160;&#160;&#160;&#160;&#160;WRITE(&quot;IN LOOP of view spell&quot;);</text>
<text text-anchor="start" x="618.74" y="-367.62" font-family="Courier New" font-size="10.00" fill="green"> &#160;&#160;&#160;&#160;&#160;&#160;MOV(WPARM,LVIEW); //THE VIEW OF THE VICTIM</text>
<text text-anchor="start" x="618.74" y="-354.88" font-family="Courier New" font-size="10.00" fill="green"> &#160;&#160;&#160;&#160;&#160;&#160;MOV(BPARM,OVIEW); //THE VIEW OF THE SPELL CASTER</text>
</g>
<!-- ended -->
<g id="node5" class="node">
<title>ended</title>
<polyline fill="none" stroke="darkred" points="771.12,-7 818.37,-7"/>
<text text-anchor="start" x="774.12" y="-14.2" font-family="Courier New" font-weight="bold" font-size="14.00">ended</text>
<path fill="none" stroke="darkred" d="M777.62,-4C777.62,-4 811.87,-4 811.87,-4 816.62,-4 821.37,-8.75 821.37,-13.5 821.37,-13.5 821.37,-23 821.37,-23 821.37,-27.75 816.62,-32.5 811.87,-32.5 811.87,-32.5 777.62,-32.5 777.62,-32.5 772.87,-32.5 768.12,-27.75 768.12,-23 768.12,-23 768.12,-13.5 768.12,-13.5 768.12,-8.75 772.87,-4 777.62,-4"/>
</g>
<!-- caughtInLoop&#45;&gt;ended -->
<g id="edge3" class="edge">
<title>caughtInLoop&#45;&gt;ended</title>
<path fill="none" stroke="black" d="M638.64,-130.9C670.25,-108.3 726.08,-68.36 761.71,-42.88"/>
<polygon fill="black" stroke="black" points="763.41,-45.96 769.51,-37.3 759.34,-40.27 763.41,-45.96"/>
<polygon fill="none" stroke="black" points="743.74,-91 743.74,-109.75 947.74,-109.75 947.74,-91 743.74,-91"/>
<text text-anchor="start" x="797.74" y="-98.25" font-family="Courier New" font-weight="bold" font-size="10.00" fill="orange">WAIT(0,SIG_STOP)</text>
<polygon fill="none" stroke="black" points="743.74,-57.5 743.74,-89 947.74,-89 947.74,-57.5 743.74,-57.5"/>
<text text-anchor="start" x="746.74" y="-76.5" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SIGNAL(SID_SPELL,SIG_CLEAR); </text>
<text text-anchor="start" x="746.74" y="-63.75" font-family="Courier New" font-size="10.00" fill="blue"> &#160;&#160;&#160;SHOW();</text>
<polygon fill="none" stroke="black" points="740.74,-54.5 740.74,-112.75 950.74,-112.75 950.74,-54.5 740.74,-54.5"/>
</g>
<!-- ended&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>ended&#45;&gt;0</title>
<path fill="none" stroke="black" d="M829.03,-21.91C871.21,-25.97 939.17,-35.36 954.74,-54.5 1121.06,-258.97 960.18,-383.93 961.74,-647.5 962.03,-696.05 993.57,-720.09 961.74,-756.75 924.36,-799.8 885.23,-748.27 834.74,-774.75 829.9,-777.29 825.36,-780.75 821.25,-784.57"/>
<polygon fill="black" stroke="black" points="818.89,-781.98 814.51,-791.63 823.95,-786.82 818.89,-781.98"/>
<text text-anchor="start" x="1033.74" y="-378" font-family="Courier New" font-weight="bold" font-size="10.00" fill="blue">Z_EPSILON(,)</text>
</g>
<!-- status -->
<g id="node6" class="node">
<title>status</title>
<polygon fill="none" stroke="black" points="843.74,-775.25 843.74,-854.25 1363.74,-854.25 1363.74,-775.25 843.74,-775.25"/>
<polygon fill="none" stroke="black" points="854.74,-828.5 854.74,-847.25 1352.74,-847.25 1352.74,-828.5 854.74,-828.5"/>
<text text-anchor="start" x="1061.74" y="-835.75" font-family="Courier New" font-weight="bold" font-size="10.00">ENCHANT_ACTIVE</text>
<polygon fill="none" stroke="black" points="854.74,-782.25 854.74,-826.5 1352.74,-826.5 1352.74,-782.25 854.74,-782.25"/>
<text text-anchor="start" x="857.74" y="-814" font-family="Courier New" font-size="10.00" fill="green">VIEW::IDV_MAIN_PANEL @pos(x:110, y:250, h:20, w:20)</text>
<text text-anchor="start" x="857.74" y="-801.25" font-family="Courier New" font-size="10.00" fill="green">ENCHANT_ACTIVE::M_VIEWSPELL(&#39;ENCHANT&#39;,&#39;ENCHANT_TIMER&#39;,&#39;IDS_ENCHANT_TINY&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;)</text>
<text text-anchor="start" x="857.74" y="-788.5" font-family="Courier New" font-size="10.00" fill="green">{state:&#39;0&#39;: Top:250 Left:110 Z:0</text>
<polygon fill="none" stroke="black" points="851.74,-779.25 851.74,-850.25 1355.74,-850.25 1355.74,-779.25 851.74,-779.25"/>
</g>
</g>
</svg>
