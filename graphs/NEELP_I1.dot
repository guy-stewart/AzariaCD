digraph Automaton {
 fontname="Courier New"
	node [shape=oval, fontname="Courier New"];
	filename[shape = record, fontsize=10, label=< <table border="1"><tr><td><b>NEELP_I1::M_MEF_TALK<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="brown">start state = 0<br align="left"/></font></td></tr></table>>
];
	0[shape = none, fontsize=14, label=< <table border="3" color="darkred" style="rounded"><tr><td sides="b"><b>0<br align="left"/></b></td></tr>
</table>>];
"0" -> "gotPlaySignal" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(,SIG_PLAY)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    REF_MACHINE(MEFCURRENT);<br align="left"/>   if(R_BPARM == S33_NEELP \|\| R_BPARM == S11_NEELP \|\| R_BPARM == S30_NEELP)&#123;<br align="left"/>         set_control_value(IDV_OTHERNAME, OTHN, &quot;NEELP&quot;);<br align="left"/>   &#125;<br align="left"/>   if(R_BPARM == S24_RATHE \|\| R_BPARM == S25_RATHE)<br align="left"/>         set_control_value(IDV_OTHERNAME, OTHN, &quot;RATHE&quot;);<br align="left"/>   &#125;<br align="left"/>   if(R_BPARM == S10_THAOR \|\| R_BPARM == S19_THAOR)&#123;<br align="left"/>         set_control_value(IDV_OTHERNAME, OTHN, &quot;THAOR&quot;);<br align="left"/>   &#125;<br align="left"/>   if(R_BPARM == S16_PERST \|\| R_BPARM == S12_PERST)&#123;<br align="left"/>         set_control_value(IDV_OTHERNAME, OTHN, &quot;PERST&quot;);<br align="left"/>   &#125;<br align="left"/>   if(R_BPARM == S09_AMBLE) &#123;<br align="left"/>        set_control_value(IDV_OTHERNAME, OTHN, &quot;AMBLE&quot;);<br align="left"/>   &#125;<br align="left"/>      <br align="left"/></font></td></tr></table>>
];
	ambleCheck[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>ambleCheck<br align="left"/></b></td></tr>
</table>>];
"ambleCheck" -> "finishAprasal" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>Z_EPSILON(0,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">if(R_BPARM == S09_AMBLE) &#123; //-----AMBLE------------------------------------------<br align="left"/>        if(R_WPARM == AMBLE_I1)&#123;mefResp(?WTEMP4,&quot;10&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>            if(WPARM == WOBJECT)&#123;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_MST01); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>                <br align="left"/>                 //Amble never ends<br align="left"/>            &#125;<br align="left"/>            <br align="left"/>        &#125;<br align="left"/></font></td></tr></table>>
];
	chatting[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>chatting<br align="left"/></b></td></tr>
</table>>];
"chatting" -> "talkDone" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>MOV(BFRAME,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    SHOW(WIP4); //expression file<br align="left"/>   // ANIMATE(10);<br align="left"/></font></td></tr></table>>
];
"chatting" -> "droppedItem" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(0,SIG_DROP)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">   // REF_MACHINE(SOD_SPELL);<br align="left"/>    REF_MACHINE(CHAR_DROPTARGET);<br align="left"/>    MOV(WOBJECT,R_WOBJECT);<br align="left"/></font></td></tr></table>>
];
	closed[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>closed<br align="left"/></b></td></tr>
</table>>];
"closed" -> "0" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>Z_EPSILON(0,0)<br align="left"/></b></td></tr>
</table>>
];
	droppedItem[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>droppedItem<br align="left"/></b></td></tr>
</table>>];
"droppedItem" -> "selectMeflin" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>REF_MACHINE(MEFCURRENT,)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">     CLEAR(WPARM);<br align="left"/>     CLEAR(WTEMP2);<br align="left"/>     CLEAR(BPARM);<br align="left"/></font></td></tr></table>>
];
	finishAprasal[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>finishAprasal<br align="left"/></b></td></tr>
</table>>];
"finishAprasal" -> "givePrize" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>ESTIME(4,)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    SHOW(BFRAME);<br align="left"/>    MOV(BFRAME,10); //may need frame 10 here<br align="left"/>   // ANIMATE(0);<br align="left"/></font></td></tr></table>>
];
"finishAprasal" -> "closed" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(,SIG_CLOSE)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    STOPWAVE();<br align="left"/>    CLEAR(WSPRITE);<br align="left"/>    SHOW();<br align="left"/></font></td></tr></table>>
];
	givePrize[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>givePrize<br align="left"/></b></td></tr>
</table>>];
"givePrize" -> "talkDone" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>Z_EPSILON(,)<br align="left"/></b></td></tr>
</table>>
];
	gotPlaySignal[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>gotPlaySignal<br align="left"/></b></td></tr>
</table>>];
"gotPlaySignal" -> "prepLongTalk" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>MOV(WSPRITE,WIP1)<br align="left"/></b></td></tr>
</table>>
];
	neelpCheck[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>neelpCheck<br align="left"/></b></td></tr>
</table>>];
"neelpCheck" -> "finishAprasal" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>Z_EPSILON(0,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">if(R_BPARM == S33_NEELP \|\| R_BPARM == S11_NEELP \|\| R_BPARM == S30_NEELP)&#123; //-----NEELP------------------------------------------<br align="left"/>        if(R_WPARM == NEELP_I1)&#123;mefResp(?WTEMP4,&quot;1&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>        if(R_WPARM == NEELP_I2)&#123;mefResp(?WTEMP4,&quot;2&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>        if(R_WPARM == NEELP_I3)&#123;mefResp(?WTEMP4,&quot;3&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>            if(WPARM == WOBJECT)&#123;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                //Signal the quest solved - the new start happens whith the next approach<br align="left"/>                     if(R_BPARM == S33_NEELP)&#123;<br align="left"/>                        SIGNAL(NEELP_COORD,SIG_Q1_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q7_STOP);<br align="left"/>                        SIGNAL(S33_NEELP,SIG_VANISH); SIGNAL(S33_NEELP_alt1,SIG_HIDE); SIGNAL(S33_NEELP_alt2,SIG_HIDE);<br align="left"/>                        SIGNAL(S11_NEELP,SIG_SHOW);SIGNAL(S11_NEELP_alt1,SIG_SHOW);<br align="left"/>                     &#125;<br align="left"/>                    if(R_BPARM == S11_NEELP)&#123;<br align="left"/>                        SIGNAL(NEELP_COORD,SIG_Q2_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q8_STOP);<br align="left"/>                        SIGNAL(S11_NEELP,SIG_VANISH); SIGNAL(S11_NEELP_alt1,SIG_HIDE);<br align="left"/>                        SIGNAL(S30_NEELP,SIG_SHOW);SIGNAL(S30_NEELP_alt1,SIG_SHOW);<br align="left"/>                    &#125;<br align="left"/>                    if(R_BPARM == S30_NEELP)&#123;<br align="left"/>                        SIGNAL(NEELP_COORD,SIG_Q3_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q9_STOP);<br align="left"/>                        SIGNAL(S30_NEELP,SIG_VANISH); SIGNAL(S30_NEELP_alt1,SIG_HIDE);<br align="left"/>                    &#125;<br align="left"/>             //--------------<br align="left"/>                MOV(WSPRITE,IDS_M1T1ANIM); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>            &#125;<br align="left"/>            <br align="left"/>            if(IS_A(WOBJECT,IDC_FISH) \|\| IS_A(WOBJECT,IDC_BOMB) \|\| IS_A(WOBJECT,IDC_PLANT) \|\| IS_A(WOBJECT,IDC_GOPA) \|\| IS_A(WOBJECT,IDC_SPELL)\|\| IS_A(WOBJECT,IDC_BAIT))&#123;<br align="left"/>            //alternatives here                                         SOUND   TEXT   CACHE   ANIMATE<br align="left"/>           if(IS_A(WOBJECT,IDC_FISH))&#123;mefResp(&quot;1&quot;,?WTEMP1,?WTEM4,&quot;FISH&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BOMB))&#123;mefResp(&quot;1&quot;,?WTEMP1,?WTEM4,&quot;BOMB&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_PLANT))&#123;mefResp(&quot;1&quot;,?WTEMP1,?WTEM4,&quot;PLANT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_GOPA))&#123;mefResp(&quot;1&quot;,?WTEMP1,?WTEM4,&quot;GOPA&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_SPELL))&#123;mefResp(&quot;1&quot;,?WTEMP1,?WTEM4,&quot;SPELL&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BAIT))&#123;mefResp(&quot;1&quot;,?WTEMP1,?WTEM4,&quot;BAIT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_M1T1ANIM); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>             &#125;   <br align="left"/>        &#125;           <br align="left"/></font></td></tr></table>>
];
	perstCheck[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>perstCheck<br align="left"/></b></td></tr>
</table>>];
"perstCheck" -> "finishAprasal" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>Z_EPSILON(0,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">if(R_BPARM == S16_PERST \|\| R_BPARM == S12_PERST)&#123; //-----PERST------------------------------------------<br align="left"/>        if(R_WPARM == PERST_I1)&#123;mefResp(?WTEMP4,&quot;8&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>        if(R_WPARM == PERST_I2)&#123;mefResp(?WTEMP4,&quot;9&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>            if(WPARM == WOBJECT)&#123;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_M2T10000); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>                    if(R_BPARM == S16_PERST)&#123;<br align="left"/>                        SIGNAL(PERST_COORD,SIG_Q1_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q14_STOP);<br align="left"/>                        SIGNAL(S16_PERST,SIG_VANISH); SIGNAL(S16_PERST_alt1,SIG_HIDE); <br align="left"/>                        SIGNAL(S12_PERST,SIG_SHOW);<br align="left"/>                     &#125;<br align="left"/>                     if(R_BPARM == S12_PERST)&#123;<br align="left"/>                        SIGNAL(PERST_COORD,SIG_Q2_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q15_STOP);<br align="left"/>                        SIGNAL(S12_PERST,SIG_VANISH);<br align="left"/>                     &#125;<br align="left"/>            &#125;<br align="left"/>            <br align="left"/>             if(IS_A(WOBJECT,IDC_FISH) \|\| IS_A(WOBJECT,IDC_BOMB) \|\| IS_A(WOBJECT,IDC_PLANT) \|\| IS_A(WOBJECT,IDC_SPELL)\|\| IS_A(WOBJECT,IDC_BAIT))&#123;<br align="left"/>            //alternatives here                                         SOUND   TEXT   CACHE   ANIMATE  <br align="left"/>           if(IS_A(WOBJECT,IDC_FISH))&#123;mefResp(&quot;2&quot;,?WTEMP1,?WTEM4,&quot;FISH&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BOMB))&#123;mefResp(&quot;2&quot;,?WTEMP1,?WTEM4,&quot;BOMB&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_PLANT))&#123;mefResp(&quot;2&quot;,?WTEMP1,?WTEM4,&quot;PLANT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_SPELL))&#123;mefResp(&quot;2&quot;,?WTEMP1,?WTEM4,&quot;SPELL&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BAIT))&#123;mefResp(&quot;2&quot;,?WTEMP1,?WTEM4,&quot;BAIT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_M2T10000); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>             &#125;   <br align="left"/>        &#125;<br align="left"/></font></td></tr></table>>
];
	prepLongTalk[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>prepLongTalk<br align="left"/></b></td></tr>
</table>>];
"prepLongTalk" -> "startPlayingTalkFile" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>ASHOW(WSPRITE,)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">PLAYWAVE(WIP3);<br align="left"/></font></td></tr></table>>
];
	ratheCheck[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>ratheCheck<br align="left"/></b></td></tr>
</table>>];
"ratheCheck" -> "finishAprasal" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>Z_EPSILON(0,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">if(R_BPARM == S24_RATHE \|\| R_BPARM == S25_RATHE)&#123; //-----RATHE------------------------------------------<br align="left"/>        if(R_WPARM == RATHE_I1)&#123;mefResp(?WTEMP4,&quot;4&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>        if(R_WPARM == RATHE_I2)&#123;mefResp(?WTEMP4,&quot;5&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>            if(WPARM == WOBJECT)&#123;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_M6T10000); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>                   if(R_BPARM == S24_RATHE)&#123;<br align="left"/>                        SIGNAL(RATHE_COORD,SIG_Q1_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q10_STOP);<br align="left"/>                        SIGNAL(S24_RATHE,SIG_VANISH);<br align="left"/>                         SIGNAL(S24_RATHE_alt1,SIG_HIDE);<br align="left"/>                        SIGNAL(S25_RATHE,SIG_SHOW);<br align="left"/>                     &#125;<br align="left"/>                     if(R_BPARM == S25_RATHE)&#123;<br align="left"/>                        SIGNAL(RATHE_COORD,SIG_Q2_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q11_STOP);<br align="left"/>                        SIGNAL(S25_RATHE,SIG_VANISH);<br align="left"/>                     &#125;<br align="left"/>            &#125;<br align="left"/>            <br align="left"/>            if(IS_A(WOBJECT,IDC_BOMB) \|\| IS_A(WOBJECT,IDC_PLANT) \|\| IS_A(WOBJECT,IDC_SPELL)\|\| IS_A(WOBJECT,IDC_BAIT) \|\| IS_A(WOBJECT,IDC_GOPA))&#123;<br align="left"/>            //alternatives here                                         SOUND   TEXT   CACHE   ANIMATE<br align="left"/>           if(IS_A(WOBJECT,IDC_FISH))&#123;mefResp(&quot;4&quot;,?WTEMP1,?WTEM4,&quot;GOPA&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BOMB))&#123;mefResp(&quot;4&quot;,?WTEMP1,?WTEM4,&quot;BOMB&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_PLANT))&#123;mefResp(&quot;4&quot;,?WTEMP1,?WTEM4,&quot;PLANT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_SPELL))&#123;mefResp(&quot;4&quot;,?WTEMP1,?WTEM4,&quot;SPELL&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BAIT))&#123;mefResp(&quot;4&quot;,?WTEMP1,?WTEM4,&quot;BAIT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_M6T10000); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>             &#125;   <br align="left"/>        &#125;<br align="left"/></font></td></tr></table>>
];
	selectMeflin[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>selectMeflin<br align="left"/></b></td></tr>
</table>>];
"selectMeflin" -> "neelpCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S33_NEELP)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "neelpCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S11_NEELP)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "neelpCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S30_NEELP)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "ratheCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S24_RATHE)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "thaorCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S10_THAOR)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "thaorCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S19_THAOR)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "perstCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S16_PERST)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "perstCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S12_PERST)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "ratheCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S25_RATHE)<br align="left"/></b></td></tr>
</table>>
];
"selectMeflin" -> "ambleCheck" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>EQUAL(R_BPARM,S09_AMBLE)<br align="left"/></b></td></tr>
</table>>
];
	startPlayingTalkFile[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>startPlayingTalkFile<br align="left"/></b></td></tr>
</table>>];
"startPlayingTalkFile" -> "chatting" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="0"><tr><td><b>ESTIME(WIP2,)<br align="left"/></b></td></tr>
</table>>
];
"startPlayingTalkFile" -> "droppedItem" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(0,SIG_DROP)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">   // REF_MACHINE(SOD_SPELL);<br align="left"/>    REF_MACHINE(CHAR_DROPTARGET);<br align="left"/>    MOV(WOBJECT,R_WOBJECT);<br align="left"/></font></td></tr></table>>
];
"startPlayingTalkFile" -> "closed" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(,SIG_CLOSE)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    STOPWAVE();<br align="left"/>    CLEAR(WSPRITE);<br align="left"/>    SHOW();<br align="left"/></font></td></tr></table>>
];
	talkDone[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>talkDone<br align="left"/></b></td></tr>
</table>>];
"talkDone" -> "closed" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(,SIG_CLOSE)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">    STOPWAVE();<br align="left"/>    CLEAR(WSPRITE);<br align="left"/>    SHOW();<br align="left"/>    SIGNAL(SOD_ID,SIG_OTID);<br align="left"/></font></td></tr></table>>
];
"talkDone" -> "droppedItem" [fontcolor=orange,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>WAIT(0,SIG_DROP)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">   // REF_MACHINE(SOD_SPELL);<br align="left"/>    REF_MACHINE(CHAR_DROPTARGET);<br align="left"/>    MOV(WOBJECT,R_WOBJECT);<br align="left"/></font></td></tr></table>>
];
	thaorCheck[shape = none, fontsize=14, label=< <table border="1" color="darkred" style="rounded"><tr><td sides="b"><b>thaorCheck<br align="left"/></b></td></tr>
</table>>];
"thaorCheck" -> "finishAprasal" [fontcolor=blue,fontsize=10,fontname="Courier New", label=< <table border="1"><tr><td><b>Z_EPSILON(0,0)<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="blue">if(R_BPARM == S10_THAOR \|\| R_BPARM == S19_THAOR)&#123; //-----THAOR------------------------------------------<br align="left"/>        if(R_WPARM == THAOR_I1)&#123;mefResp(?WTEMP4,&quot;6&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>        if(R_WPARM == THAOR_I2)&#123;mefResp(?WTEMP4,&quot;7&quot;,?WPARM,?WTEMP1,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>            if(WPARM == WOBJECT)&#123;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_MYT10000); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>                    if(R_BPARM == S10_THAOR)&#123;<br align="left"/>                        SIGNAL(THAOR_COORD,SIG_Q1_SOLVED);<br align="left"/>                        q_world_active(?BPARM, &quot;3&quot;);<br align="left"/>                        if(BPARM != &quot; Excavate the Ancient crypts in the canyons.&quot;)&#123;<br align="left"/>                                SIGNAL(QL_MANAGER,Q3_START);<br align="left"/>                        &#125;<br align="left"/>                        SIGNAL(QL_MANAGER,Q12_STOP);<br align="left"/>                        SIGNAL(S10_THAOR,SIG_VANISH); SIGNAL(S10_THAOR_alt1,SIG_HIDE); <br align="left"/>                        SIGNAL(S19_THAOR,SIG_SHOW);SIGNAL(S19_THAOR_alt1,SIG_SHOW);<br align="left"/>                     &#125;<br align="left"/>                     if(R_BPARM == S19_THAOR)&#123;<br align="left"/>                        SIGNAL(THAOR_COORD,SIG_Q2_SOLVED);<br align="left"/>                        SIGNAL(QL_MANAGER,Q13_STOP);<br align="left"/>                        SIGNAL(S19_THAOR,SIG_VANISH);SIGNAL(S19_THAOR_alt1,SIG_HIDE);<br align="left"/>                     &#125;<br align="left"/>            &#125;<br align="left"/>            <br align="left"/>            if(IS_A(WOBJECT,IDC_BOMB) \|\| IS_A(WOBJECT,IDC_SPELL)\|\| IS_A(WOBJECT,IDC_BAIT))&#123;<br align="left"/>            //alternatives here                                         SOUND   TEXT   CACHE   ANIMATE  <br align="left"/>           if(IS_A(WOBJECT,IDC_BOMB))&#123;mefResp(&quot;3&quot;,?WTEMP1,?WTEM4,&quot;BOMB&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_SPELL))&#123;mefResp(&quot;3&quot;,?WTEMP1,?WTEM4,&quot;SPELL&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>           if(IS_A(WOBJECT,IDC_BAIT))&#123;mefResp(&quot;3&quot;,?WTEMP1,?WTEM4,&quot;BAIT&quot;,?WTEMP2,?BPARM,?WTEMP3,?BFRAME);&#125;<br align="left"/>                MOV(WPARM,WTEMP3); // Move the prize cache id in so the prize boxes can get it<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_WAITER,SIG_PRIZETEXT);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_A,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_B,SIG_SHOWPRIZE);<br align="left"/>                SIGNAL(MEFPAN_PRIZE_C,SIG_SHOWPRIZE);<br align="left"/>                MOV(WSPRITE,IDS_MYT10000); //talking reply<br align="left"/>                ASHOW(WSPRITE);<br align="left"/>                PLAYWAVE(WTEMP2);<br align="left"/>             &#125;   <br align="left"/>        &#125;<br align="left"/></font></td></tr></table>>
];
	status[shape = record, fontsize=10, label=< <table border="1"><tr><td><b>NEELP_I1<br align="left"/></b></td></tr>
<tr><td><font point-size="10" color ="green">VIEW::IDV_MEFID @pos(x:0, y:0, h:8, w:10)<br align="left"/>NEELP_I1::M_MEF_TALK(&apos;IDS_M1T1ANIM&apos;,&apos;2&apos;,&apos;SOUND_NEELPI1&apos;,&apos;IDS_M1I1ANIM&apos;,&apos;&apos;,&apos;&apos;)<br align="left"/>			&#123;state:&apos;0&apos;: bFrame:0 dEtime:0 Top:0 Left:0 Z:0<br align="left"/></font></td></tr></table>>
];
}
