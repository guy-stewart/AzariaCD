// players.
// called by OpenPlay to enumerate all of the players in a room.
uri = "us-atl-3b185468.colyseus.cloud";
roomid = getOpenPlay("roomid");
resourcePath = "/colyseus/api/room?roomId="+roomid;
response = https_get(uri+resourcePath);
state   = json_element(response, "state");
players = json_element(state, "players");
count=0;
for (json_iter(players, ?player)) {
    count = count + 1;
    playerid = json_element(player, "playerId");
    playername = json_element(player, "playerName");
    playerip = json_element(player, "playerIp");
    candidates = json_element(player, "candidates");
    enum_player(playerid, playername, candidates);
}  
if (count==0) {
    write(response);
}
